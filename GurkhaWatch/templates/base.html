<!DOCTYPE html>
{% load static %}
{% load mathfilters %}
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Main CSS -->
  <link rel="stylesheet" href="{% static 'css/style.min.css' %}" />
  <!-- Google font -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Jura&display=swap" rel="stylesheet" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
  <!-- Font awesome -->
  <script src="https://kit.fontawesome.com/0e3115dc97.js" crossorigin="anonymous"></script>
  <!-- Slick's CSS -->
  <link rel="stylesheet" type="text/css" charset="UTF-8"
    href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.min.css" />
  <link rel="stylesheet" type="text/css"
    href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick-theme.min.css" />
  {% block head %}{% endblock head %}
  <style>
    .success {
      background-color: #10b981;
    }

    .danger {
      background-color: #f87171;
    }

    .info {
      background-color: #3b82f6;
    }

    .warning {
      background-color: #f59e0b;
    }
  </style>
</head>

<body class="bg-primary2">
  <!-- Navbar start -->
  <nav class="mb-4 pb-4 bg-primary text-secondary" style="box-shadow: 0px 0px 5px 0px rgb(0 0 0 / 80%);">
    <div class="mx-auto px-4 py-1 lg:py-3 max-w-screen-2xl flex justify-end space-x-4 text-xs">
      {% if user.id is None %}
      <div class="flex items-center">
        <a href="{% url 'login' %}">Login</a>
        <span>&nbsp;|&nbsp;</span>
        <a href="{% url 'register' %}">Register</a>
      </div>
      {% else %}
      <div class="flex flex-col justify-center items-center">
        <p class="text-secondary3">Welcome, {{request.user.first_name}}!</p>
        <div class="flex items-center">
          <a href="{% url 'dashboard' %}">Dashboard</a>
          <span>&nbsp;|&nbsp;</span>
          <a href="{% url 'logout' %}">Logout</a>
        </div>
      </div>
      {% endif %}
      <a href="{% url 'cart' %}" class="flex items-center">
        <i class="mr-1 fas fa-shopping-cart"></i>
        <div class="flex flex-col justify-center">
          <span>{{cart_count}} Items</span>
          <span>${{grand_total}}</span>
        </div>
      </a>
    </div>
    <div class="h-0.5 bg-secondary2"></div>
    <!-- Cart sidebar start -->
    <div class="h-0 w-screen fixed bottom-0" id="cart-sidebar-overlay"
      style="z-index: 999;background-color: rgba(0, 0, 0, 0.7);transition: height 0.5s ease;"></div>
    <div class="h-screen w-0 overflow-auto fixed top-0 right-0 bg-primary7"
      style="z-index: 1000; max-width: 80%; transition: width 0.5s ease;" id="cart-sidebar">
      <div class="m-6">
        <div class="flex items-end text-secondary whitespace-nowrap">
          <i class="fas fa-shopping-cart fa-2x mr-3 relative">
            <span
              class="px-1 py-0.5 flex justify-center items-center rounded-full absolute -top-2 -left-0.5 text-xs text-secondary bg-primary5 border border-secondary3 font-jura font-light"
              style="min-width: 3ch;">2<span>
          </i>
          <p>SHOPPING CART</p>
        </div>
        <div class="h-0.5 mt-2 bg-secondary2"></div>
        <!--
        <div class="my-6 text-center">
          <i class="fas fa-shopping-bag fa-5x text-secondary2 mb-6"></i>
          <p>No products in the cart.</p>
        </div>
        -->
        <div class="mt-2 mb-6">
          <div class="py-4 flex items-start space-x-4 border-b border-secondary2">
            <a href="#!" style="max-width: 100px;">
              <img src="/static/images/urban-chrono.jpg" alt="urban chrono watch"
                class="h-full w-full object-contain" />
            </a>
            <div class="text-xs">
              <a href="#!" class="mb-1 block">GURKHA URBAN CHRONO GREEN DIAL</a>
              <p class="text-secondary3">1 &times; $800.00</p>
            </div>
            <button>
              <i class="fas fa-trash text-sm text-secondary3"></i>
            </button>
          </div>
          <div class="py-4 flex items-start space-x-4 border-b border-secondary2">
            <a href="#!" style="max-width: 100px;">
              <img src="/static/images/urban-chrono.jpg" alt="urban chrono watch"
                class="h-full w-full object-contain" />
            </a>
            <div class="text-xs">
              <a href="#!" class="mb-1 block">GURKHA URBAN CHRONO GREEN DIAL</a>
              <p class="text-secondary3">1 &times; $800.00</p>
            </div>
            <button>
              <i class="fas fa-trash text-sm text-secondary3"></i>
            </button>
          </div>
          <div class="mt-2 flex justify-between items-center">
            <span class="text-xs text-secondary3">SUBTOTAL:</span>
            <span>$1600.00</span>
          </div>
        </div>
        <div class="text-sm">
          <a href="/cart" class="mb-2 py-2 px-4 block rounded-md bg-green-900 text-secondary text-center">VIEW CART</a>
          <a href="/checkout"
            class="mb-2 py-2 px-4 block rounded-md bg-primary5 text-secondary text-center">CHECKOUT</a>
        </div>
      </div>
    </div>
    <!-- Cart sidebar end -->
    <!-- Mobile Navbar start -->
    <div class="px-4 pt-3 lg:hidden flex justify-between items-center" id="mobile-nav">
      <button onclick="openMobileNav()" id="mobile-nav-hamburger">
        <div class="h-0.5 w-6 sm:w-8 mb-1 sm:mb-1.5 bg-white"></div>
        <div class="h-0.5 w-6 sm:w-8 mb-1 sm:mb-1.5 bg-white"></div>
        <div class="h-0.5 w-6 sm:w-8 bg-white"></div>
      </button>
      <a href="/">
        <img src="{% static 'images/gurkha.png' %}" alt="Gurkha Logo" class="h-12 w-auto" />
      </a>
      <button onclick="openSearchBar()">
        <i class="fas fa-search"></i>
      </button>
    </div>
    <div class="h-0 w-screen fixed bottom-0 lg:hidden" id="mobile-nav-overlay"
      style="z-index: 999;background-color: rgba(0, 0, 0, 0.7);transition: height 0.5s ease;"></div>
    <div
      class="h-screen w-0 whitespace-nowrap overflow-hidden lg:hidden fixed top-0 left-0 bg-primary7 font-jura font-semibold"
      style="z-index: 1000;max-width: 80%;transition: width 0.5s ease;" id="mobile-nav-links">
      <div class="mx-4 mt-12 sm:pb-3.5 border-b border-secondary2">
        <button class="text-5xl sm:text-6xl" onclick="closeMobileNav()">&times;</button>
      </div>
      <div class="mx-4 px-1 py-2 border-b border-secondary2">
        <a href="/" onclick="closeMobileNav()">Home</a>
      </div>
      <div class="mx-4 px-1 py-2 border-b border-secondary2">
        <a href="/shop/" onclick="closeMobileNav()">Shop</a>
      </div>
      <div class="mx-4 x-1 py-2 border-b border-secondary2">
        <a href="/product-category/mens-watches/" onclick="closeMobileNav()">For Men</a>
      </div>
      <div class="mx-4 px-1 py-2 border-b border-secondary2">
        <a href="/product-category/ladies-watches/" onclick="closeMobileNav()">For Ladies</a>
      </div>
      <div class="mx-4 px-1 py-2 border-b border-secondary2">
        <a href="/product-category/accessories/" onclick="closeMobileNav()">Accessories</a>
      </div>
      <div class="mx-4 px-1 py-2 border-b border-secondary2">
        <a href="/product-category/upcoming-watches" onclick="closeMobileNav()">Upcoming</a>
      </div>
      <div class="mx-4 px-1 py-2 border-b border-secondary2">
        <a href="/contact/" onclick="closeMobileNav()">Contact Us</a>
      </div>
      <div class="mx-4 px-1 py-2 border-b border-secondary2">
        <a href="/about/" onclick="closeMobileNav()">About Us</a>
      </div>
      <div class="mx-4 px-1 py-2 border-b border-secondary2">
        <a href="{% url 'blog' %}" onclick="closeMobileNav()">Blog</a>
      </div>
    </div>
    <!-- Searchbar start -->
    <div class="h-16 lg:h-12 w-0 fixed top-10 lg:top-20 right-0 bg-gray-50 text-primary lg:rounded-l-md" id="searchbar"
      style="z-index: 101; transition: width 0.5s ease;">
      <form class="h-full w-full px-4 flex" action="{% url 'search' %}" method="GET">
        <input type="text" placeholder="Search" class="flex-1 bg-transparent outline-none"
          style="padding-inline-start: 0.5rem;" name="keyword" />
        <div class="flex items-center">
          <button type="button" onclick="closeSearchBar()" class="p-3">
            <i class="fas fa-times fa-lg"></i>
          </button>
          <span class="h-4/5 w-0.5 bg-primary"></span>
          <button type="submit" onclick="closeSearchBar()" class="p-3">
            <i class="fas fa-search text-base"></i>
          </button>
        </div>
      </form>
    </div>
    <!-- Searchbar end -->
    <!-- Mobile Navbar end -->
    <!-- Desktop Navbar start -->
    <div class="mx-auto px-4 py-1.5 hidden max-w-screen-2xl lg:flex justify-between items-center">
      <div class="flex-1 flex justify-end items-center space-x-6">
        <a href="/" class="text-center">HOME</a>
        <a href="/shop/" class="flex items-center">SHOP</a>
        <a href="/product-category/mens-watches/" class="text-center">FOR MEN</a>
        <a href="/product-category/ladies-watches/" class="text-center">FOR LADIES</a>
        <a href="/product-category/accessories/" class="text-center">ACCESSORIES</a>
      </div>
      <a href="/" class="p-2 flex-shrink-0">
        <img src="{% static 'images/gurkha.png' %}" alt="Gurkha Logo" class="h-16 w-auto" />
      </a>
      <div class="flex-1 flex justify-start items-center space-x-6">
        <a href="/product-category/upcoming-watches/" class="text-center">UPCOMING</a>
        <a href="/contact/" class="text-center">CONTACT US</a>
        <a href="/about/" class="text-center">ABOUT US</a>
        <a href="{% url 'blog' %}" class="text-center">BLOG</a>
        <button onclick="openSearchBar()">
          <i class="fas fa-search"></i>
        </button>
      </div>
    </div>
    <!-- Desktop Navbar end -->
    <div class="h-0.5 hidden bg-secondary2 lg:flex"></div>
  </nav>
  <!-- Navbar end -->

  {% include "includes/alerts.html" %}

  {% block content %} {% endblock content %}

  <!-- Footer start -->
  <footer class="bg-primary3">
    <div
      class="max-w-screen-2xl mx-auto px-4 py-10 flex flex-col space-y-10 sm:flex-row sm:justify-between sm:space-x-10 sm:space-y-0">
      <div class="flex-1 text-secondary2">
        <div class="mb-2 ml-2 p-2 inline-block bg-transparent rounded-sm">
          <img src="{% static 'images/gurkha.png' %}" alt="Gurkha Logo" class="h-16 w-auto" />
        </div>
        <p className="text-sm text-justify">
          Gurkha Watch is a timepiece with technological masterwork and
          ingenious mechanism that symbolizes over 200 years of bravery and
          acts of extreme valour that lionhearted Gurkha soldiers have shown
          in several war theatres and peacekeeping missions.
        </p>
      </div>
      <div class="flex-1 text-secondary">
        <p class="mb-2">TOP RATED PRODUCTS</p>
        <div class="flex flex-col space-y-4 text-sm font-bold">
          <a href="#!" class="flex items-center">
            <div class="h-16 w-16 mr-3 bg-black"></div>
            <div>
              <p>GURKHA BADGE</p>
              <div class="mt-1 flex text-green-700">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
              </div>
              <p class="mt-1">AU $20</p>
            </div>
          </a>
          <a href="#!" class="flex items-center">
            <div class="h-16 w-16 mr-3 bg-black"></div>
            <div>
              <p>GURKHA BADGE</p>
              <div class="mt-1 flex text-green-700">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
              </div>
              <p class="mt-1">AU $20</p>
            </div>
          </a>
          <a href="#!" class="flex items-center">
            <div class="h-16 w-16 mr-3 bg-black"></div>
            <div>
              <p>GURKHA BADGE</p>
              <div class="mt-1 flex text-green-700">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
              </div>
              <p class="mt-1">AU $20</p>
            </div>
          </a>
        </div>
      </div>
      <div class="flex-1 text-secondary">
        <p class="mb-2">CONTACT US</p>
        <p class="mb-1.5 text-sm">
          Contact us at the address or phone number below.
        </p>
        <p class="mb-1 flex items-center text-sm">
          <i class="mr-1.5 fas fa-map-marker-alt"></i>
          92 Victoria Road, Aldershot, GU11 1SS
        </p>
        <p class="mb-1 flex items-center text-sm">
          <i class="mr-1.5 fas fa-phone-alt"></i> UK: +441252 444385
        </p>
        <p class="mb-1 flex items-center text-sm">
          <i class="mr-1.5 fas fa-phone-alt"></i> NP: +977 01 4248861
        </p>
        <p class="mb-1 flex items-center text-sm">
          <i class="mr-1.5 fas fa-envelope"></i> info@gurkhawatch.com
        </p>
      </div>
    </div>
    <div class="bg-primary7 text-secondary2">
      <div class="max-w-screen-2xl mx-auto px-4 py-4">
        <span>
          &copy; COPYRIGHT <span id="current-year"></span> - GURKHA WATCH
        </span>
      </div>
    </div>
  </footer>
  <!-- Footer end -->

  <!-- Scripts start -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"
    integrity="sha512-XtmMtDEcNz2j7ekrtHvOVR4iwwaD6o/FUJe6+Zq+HgcCsk3kj4uSQQR8weQ2QVj1o0Pk6PwYLohm206ZzNfubg=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script type="text/javascript">
    mobileNavOverlay = document.querySelector("#mobile-nav-overlay");
    cartSidebarOverlay = document.querySelector("#cart-sidebar-overlay");
    mobileNavLinks = document.querySelector("#mobile-nav-links");
    cartSidebar = document.querySelector("#cart-sidebar");
    searchBar = document.querySelector("#searchbar");

    function openMobileNav() {
      mobileNavLinks.style.width = "300px";
      mobileNavOverlay.style.height = "100vh";
    }

    function openCartSidebar() {
      cartSidebar.style.width = "400px";
      cartSidebarOverlay.style.height = "100vh";
    }

    function openSearchBar() {
      if (window.innerWidth < 1024) {
        searchBar.style.width = "100%";
      } else {
        searchBar.style.width = "40%";
      }
    }

    function closeMobileNav() {
      mobileNavLinks.style.width = "0";
      mobileNavOverlay.style.height = "0";
    }

    function closeCartSidebar() {
      cartSidebar.style.width = "0";
      cartSidebarOverlay.style.height = "0";
    }

    function closeSearchBar() {
      searchBar.style.width = "0"
    }

    document.addEventListener("DOMContentLoaded", function () {
      mobileNavOverlay.addEventListener("click", function () {
        return closeMobileNav();
      });
      cartSidebarOverlay.addEventListener("click", function () {
        return closeCartSidebar();
      });
      document.querySelector("#current-year").textContent = new Date().getFullYear();
    });
  </script>
  <script type="text/javascript">
    $(".close-alert-button").click(function (e) {
      $(this).parent().hide(500, function () {
        $(this).remove();
      });
    });
  </script>
  {% block scripts %} {% endblock scripts %}
  <!-- Scripts end -->
</body>

</html>